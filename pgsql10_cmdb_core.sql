






DROP SCHEMA IF EXISTS cmdb_core;
DROP TABLE IF EXISTS location, position;

CREATE SCHEMA cmdb_core;


CREATE TABLE location (
    id integer PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    country         text NOT NULL,
    state           text NOT NULL,
    town            text NOT NULL,
    street          text NOT NULL,
    zipcode         text NOT NULL
);

CREATE TABLE position (
    id              INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    building        INTEGER REFERENCES location (id),
    floor           INTEGER NOT NULL,
    room            text NOT NULL,
    rack            text NOT NULL,
    rack_position   text NOT NULL
);

CREATE INDEX position_id_index ON position (id);


--- CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy');